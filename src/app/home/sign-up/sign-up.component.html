<h4 class="text-center"> Register to embrace a new world!</h4>

<form [formGroup]="signUpForm" class="form mt-4" (submit)='submit()'>

    <!-- email -->
    <div class="form-group">
        <input formControlName="email" placeholder="email" class="form-control" autofocus >
        <mf-vmessage 
        *ngIf="signUpForm.get('email')?.errors?.required && !signUpForm.get('email')?.pristine"
        message ='Email is required!'
        ></mf-vmessage>
        <mf-vmessage 
        *ngIf="signUpForm.get('email')?.errors?.email && signUpForm.get('email')?.touched"
        message ='Email is invalid!'
        ></mf-vmessage>
    </div>

    <!-- full name -->
    <div class="form-group">
        <input formControlName="fullName" placeholder="full name" class="form-control">
        <mf-vmessage 
        *ngIf="signUpForm.get('fullName')?.errors?.required && !signUpForm.get('fullName')?.pristine"
        message ='Email is required!'
        ></mf-vmessage>
        <mf-vmessage 
        *ngIf="signUpForm.get('fullName')?.errors?.minlength && signUpForm.get('fullName')?.touched"
        message ='Min length is 2 characters'
        ></mf-vmessage>
        <mf-vmessage 
        *ngIf="signUpForm.get('fullName')?.errors?.maxlength && !signUpForm.get('fullName')?.pristine"
        message ='Max length is 40 characters'
        ></mf-vmessage>
    </div>

    <!-- user name -->
    <div class="form-group">
        <input formControlName="userName" placeholder="user name" class="form-control">
        <mf-vmessage 
        *ngIf="signUpForm.get('userName')?.errors?.required && !signUpForm.get('userName')?.pristine"
        message ='User name is required!'
        ></mf-vmessage>
        <mf-vmessage 
        *ngIf="signUpForm.get('userName')?.errors?.lowerCase && !signUpForm.get('userName')?.pristine"
        message ='User name must be lowercase!'
        ></mf-vmessage>
        <mf-vmessage 
        *ngIf="signUpForm.get('userName')?.errors?.minlength && signUpForm.get('userName')?.touched"
        message ='Min length is 2 characters'
        ></mf-vmessage>
        <mf-vmessage 
        *ngIf="signUpForm.get('userName')?.errors?.maxlength && !signUpForm.get('userName')?.pristine"
        message ='Max length is 30 characters'
        ></mf-vmessage>
        <mf-vmessage 
        *ngIf="signUpForm.get('userName')?.errors?.userNameTaken && !signUpForm.get('userName')?.pristine"
        message ='User name already taken'
        ></mf-vmessage>
        <div class="text-success" *ngIf="signUpForm.get('userName')?.valid">User name available</div>
    </div>

    <!-- password -->
    <div class="form-group">
        <input formControlName="password" type="password" placeholder="password" class="form-control">
        <mf-vmessage 
        *ngIf="signUpForm.get('password')?.errors?.required && !signUpForm.get('password')?.pristine"
        message ='Password is required!'
        ></mf-vmessage>
        <mf-vmessage 
        *ngIf="signUpForm.get('password')?.errors?.minlength && signUpForm.get('password')?.touched"
        message ='Min length is 8 characters'
        ></mf-vmessage>
        <mf-vmessage 
        *ngIf="signUpForm.get('password')?.errors?.maxlength && !signUpForm.get('password')?.pristine"
        message ='Max length is 14 characters'
        ></mf-vmessage>
    </div>

    <button class="btn btn-primary btn-block" [disabled] ="signUpForm.invalid ||signUpForm.pending">Register</button>

    <p>Already a user?<a [routerLink]="['']">Sign In!</a></p>
</form>